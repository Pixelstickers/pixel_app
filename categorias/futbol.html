<!-- Productos -->
<section class="category-products">
  <div class="container">
    <div class="products-grid">

      <!-- Huracán -->
      <div class="product-card"
           data-product-id="f1"
           data-product-name="Huracán"
           data-product-img="FU-00001.png"
           data-product-code="FU-00001"
           data-product-category="Clubes argentinos">
        <div class="product-img" onclick="abrirModal('FU-00001.png', 'Huracán')">
          <img src="../imagenes/FU-00001.png" alt="Escudo club Huracán" />
        </div>
        <div class="cantidad-control">
          <button class="btn-restar" onclick="restarDelCarrito('f1')">−</button>
          <button class="btn-agregar"
                  onclick="agregarAlCarritoDesdeElemento(this)"
                  data-product-id="f1"
                  data-product-name="Huracán"
                  data-product-img="FU-00001.png">+</button>
        </div>
        <h3>Huracán</h3>
        <p class="product-code">Código: FU-00001</p>
        <p class="product-category">Clubes argentinos</p>
      </div>

      <!-- Estudiantes -->
      <div class="product-card"
           data-product-id="f2"
           data-product-name="Estudiantes de La Plata"
           data-product-img="FU-00002.png"
           data-product-code="FU-00002"
           data-product-category="Clubes argentinos">
        <div class="product-img" onclick="abrirModal('FU-00002.png', 'Estudiantes de La Plata')">
          <img src="../imagenes/FU-00002.png" alt="Escudo club Estudiantes" />
        </div>
        <div class="cantidad-control">
          <button class="btn-restar" onclick="restarDelCarrito('f2')">−</button>
          <button class="btn-agregar"
                  onclick="agregarAlCarritoDesdeElemento(this)"
                  data-product-id="f2"
                  data-product-name="Estudiantes de La Plata"
                  data-product-img="FU-00002.png">+</button>
        </div>
        <h3>Estudiantes de La Plata</h3>
        <p class="product-code">Código: FU-00002</p>
        <p class="product-category">Clubes argentinos</p>
      </div>

      <!-- Independiente -->
      <div class="product-card"
           data-product-id="f3"
           data-product-name="Independiente"
           data-product-img="FU-00004.png"
           data-product-code="FU-00004"
           data-product-category="Clubes argentinos">
        <div class="product-img" onclick="abrirModal('FU-00004.png', 'Independiente')">
          <img src="../imagenes/FU-00004.png" alt="Escudo club Independiente" />
        </div>
        <div class="cantidad-control">
          <button class="btn-restar" onclick="restarDelCarrito('f3')">−</button>
          <button class="btn-agregar"
                  onclick="agregarAlCarritoDesdeElemento(this)"
                  data-product-id="f3"
                  data-product-name="Independiente"
                  data-product-img="FU-00004.png">+</button>
        </div>
        <h3>Independiente</h3>
        <p class="product-code">Código: FU-00004</p>
        <p class="product-category">Clubes argentinos</p>
      </div>

    </div>
  </div>
</section>

<!-- Modal -->
<div id="productModal" class="modal">
  <div class="modal-content">
    <span class="close-modal">&times;</span>
    <img id="modalProductImage" src="" alt="Imagen del producto" />
    <h2 id="modalProductTitle"></h2>
  </div>
</div>

<!-- Scripts -->
<script>
  function agregarAlCarritoDesdeElemento(boton) {
    const id = boton.dataset.productId;
    const nombre = boton.dataset.productName;
    const imagen = '../imagenes/' + boton.dataset.productImg;

    if (!id || !nombre || !imagen) {
      console.warn('Datos faltantes en producto:', { id, nombre, imagen });
      return;
    }

    const producto = { id, nombre, imagen, cantidad: 1 };
    agregarAlCarrito(producto);
  }

  function abrirModal(imagenSrc, titulo) {
    document.getElementById('modalProductImage').src = '../imagenes/' + imagenSrc;
    document.getElementById('modalProductTitle').textContent = titulo;
    document.getElementById('productModal').classList.add('show');
  }

  document.querySelector('.close-modal').addEventListener('click', function () {
    document.getElementById('productModal').classList.remove('show');
  });
</script>
